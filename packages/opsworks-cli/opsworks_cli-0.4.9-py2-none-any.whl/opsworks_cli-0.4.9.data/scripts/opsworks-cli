#!python
# Copyright 2018 Chathuranga Abeyrathna. All Rights Reserved.
# AWS OpsWorks deployment cli

import sys
import getopt
import boto3
import time
import modules

#if sys.argv[0] == "opsworks-cli" and len(sys.argv) > 1:
if 'opsworks-cli' in sys.argv[0] and len(sys.argv) > 1:
    if sys.argv[1] == "execute-recipes":
        modules.execute_recipes()    
    elif sys.argv[1] == "update-custom-cookbooks":
        modules.update_custom_cookbooks()
    elif sys.argv[1] == "deploy":
        modules.deploy()
    elif sys.argv[1] == "setup":
        modules.setup()
    elif sys.argv[1] == "--version" or sys.argv[1] == "-v":
        modules.version()
    elif sys.argv[1] == "--help" or sys.argv[1] == "-h":
        modules.usage()
    else:
        print "input error []"
        modules.usage()
else:
    print "input error []"
    modules.usage()
