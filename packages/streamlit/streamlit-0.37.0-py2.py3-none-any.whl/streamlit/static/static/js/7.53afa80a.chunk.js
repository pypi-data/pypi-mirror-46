(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1052:function(e,t){},1053:function(e,t,a){},1070:function(e,t,a){"use strict";a.r(t);var n=a(62),i=a(12),r=a(17),s=a(23),o=a(22),u=a(24),d=a(1),h=a.n(d),c=a(50),w=a(49),g=a(1045),f=a.n(g),v=a(1058),l=(a(1053),{DATAFRAME_INDEX:"(index)"}),p=new Set(["datetimeIndex","float_64Index","int_64Index","rangeIndex","timedeltaIndex","uint_64Index"]),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).vegaView=null,a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"safeRender",value:function(){var e=this.props.element,t=JSON.parse(e.get("spec"));!function(e){if(e.autosize)return;e.autosize={type:"fit",contains:"padding",resize:!0}}(t);var a=function(e){var t=e.get("data");if(!t)return null;return{values:j(t)}}(e),n=function(e,t){if(!e.get("datasets")||e.get("datasets").isEmpty())return null;var a={};return e.get("datasets").forEach(function(e,t){e&&(a[e.get("name")]=j(e.get("data")))}),a}(e);if(n){if(!t.data)throw new Error('Must specify "data" field when using "dataset"');t.datasets=n}var i=null==t.height?200:t.height,r=null==t.width?this.props.width:t.width;return h.a.createElement(f.a,{spec:t,data:a,renderer:"canvas",width:r,height:i,onNewView:this._onNewView.bind(this)})}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.element.get("data"),i=e.element.get("data");if(!a||!i)return!0;if(!a.get("data")||!i.get("data"))return!0;var r=Object(w.j)(a.get("data")),s=Object(n.a)(r,2),o=s[0],u=s[1],d=Object(w.j)(i.get("data")),h=Object(n.a)(d,2),c=h[0],g=h[1],f=a!==i,v=this.props.element.get("spec")!==e.element.get("spec"),l=this.props.width!==e.width;return!(!v&&!l)||!!f&&(!(u===g&&o<=c&&a[0]===i[0]&&a[o-1]===i[o-1]&&o<c)||(this.addRows(i,o),!1))}},{key:"addRows",value:function(e,t){if(!this.vegaView)throw new Error("Chart has not been drawn yet");var a=j(e,t);this.vegaView.insert("data_0",a),this.vegaView.run()}},{key:"toCanvas",value:function(e){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toCanvas(e)}},{key:"toSVG",value:function(e){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toSVG(e)}},{key:"toImageUrl",value:function(e,t){if(!this.vegaView)throw new Error("Chart has not been drawn yet");return this.vegaView.toImageUrl(e,t)}},{key:"_onNewView",value:function(e){this.vegaView=e,Object(v.a)(e)}}]),t}(c.b);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.get("data"))return[];if(!e.get("index"))return[];if(!e.get("columns"))return[];for(var a=[],i=Object(w.j)(e.get("data")),r=Object(n.a)(i,2),s=r[0],o=r[1],u=e.get("index").get("type"),d=p.has(u),h=t;h<s;h++){var c={};d&&(c[l.DATAFRAME_INDEX]=Object(w.g)(e.get("index"),0,h));for(var g=0;g<o;g++)c[Object(w.g)(e.get("columns"),0,g)]=Object(w.i)(e.get("data"),g,h);a.push(c)}return a}t.default=b}}]);
//# sourceMappingURL=7.53afa80a.chunk.js.map