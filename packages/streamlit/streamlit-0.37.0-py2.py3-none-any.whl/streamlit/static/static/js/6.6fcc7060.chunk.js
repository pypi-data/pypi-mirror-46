(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1040:function(t,e,i){},1065:function(t,e,i){"use strict";i.r(e);var r=i(42),a=i(12),n=i(17),o=i(23),l=i(22),u=i(24),c=i(18),g=i(1),s=i.n(g),d=i(2),h=i.n(d),y=i(50),f=i(1056),p=(i(1034),i(67)),w=i.n(p),L=i(1057),b=(i(1040),i(49)),m=function(t){function e(t){var i;Object(a.a)(this,e);var r=(i=Object(o.a)(this,Object(l.a)(e).call(this,t))).props.element.get("spec"),n=(r?JSON.parse(r):{}).viewport||{};return i.initialViewState={width:n.width||t.width,height:n.height||500,longitude:n.longitude||0,latitude:n.latitude||0,pitch:n.pitch||0,bearing:n.bearing||0,zoom:n.zoom||1},i.mapStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light-v9";if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("mapbox://"))return t;return"mapbox://styles/mapbox/".concat(t)}(n.mapStyle),i.fixHexLayerBug_bound=i.fixHexLayerBug.bind(Object(c.a)(Object(c.a)(i))),i.state={initialized:!1},setTimeout(i.fixHexLayerBug_bound,0),i}return Object(u.a)(e,t),Object(n.a)(e,[{key:"fixHexLayerBug",value:function(){this.setState({initialized:!0})}},{key:"safeRender",value:function(){return s.a.createElement("div",{className:"deckglchart",style:{height:this.initialViewState.height,width:this.initialViewState.width}},s.a.createElement(f.i,{initialViewState:this.initialViewState,height:this.initialViewState.height,width:this.initialViewState.width,controller:!0,layers:this.state.initialized?this.buildLayers():[]},s.a.createElement(L.a,{height:this.initialViewState.height,width:this.initialViewState.width,mapStyle:this.mapStyle,mapboxApiAccessToken:"pk.eyJ1IjoidGhpYWdvdCIsImEiOiJjamh3bm85NnkwMng4M3dydnNveWwzeWNzIn0.vCBDzNsEF2uFSFk2AM0WZQ"})))}},{key:"buildLayers",value:function(){return this.props.element.get("layers").map(function(t){return function(t){var e=Object(b.e)(t.get("data")),i=JSON.parse(t.get("spec")),a=i.type?i.type.toLowerCase():"";switch(delete i.type,function(t,e){if(v.has(t)&&e.getLatitude&&e.getLongitude){var i=e.getLatitude,r=e.getLongitude;e.getPosition=function(t){return[t[r],t[i]]}}if(x.has(t)&&e.getLatitude&&e.getLongitude&&e.getTargetLatitude&&e.getTargetLongitude){var a=e.getLatitude,n=e.getLongitude,o=e.getTargetLatitude,l=e.getTargetLongitude;e.getSourcePosition=function(t){return[t[n],t[a]]},e.getTargetPosition=function(t){return[t[l],t[o]]}}Object.keys(e).forEach(function(t){if(t.startsWith("get")){var i=e[t];e[t]="function"===typeof i?i:"string"===typeof i?function(t){return t[i]}:function(){return i}}})}(a,i),a){case"arclayer":return new f.a(Object(r.a)({data:e},S.ArcLayer,i));case"gridlayer":return new f.b(Object(r.a)({data:e},S.GridLayer,i));case"hexagonlayer":return new f.c(Object(r.a)({data:e},S.HexagonLayer,i));case"linelayer":return new f.d(Object(r.a)({data:e},S.LineLayer,i));case"pointcloudlayer":return new f.e(Object(r.a)({data:e},S.PointCloudLayer,i));case"scatterplotlayer":return new f.f(Object(r.a)({data:e},S.ScatterplotLayer,i));case"screengridlayer":return new f.g(Object(r.a)({data:e},S.ScreenGridLayer,i));case"textlayer":return new f.h(Object(r.a)({data:e},S.TextLayer,i));default:throw new Error('Unsupported layer type "'.concat(a,'"'))}}(t)}).toArray()}}]),e}(y.a);m.propTypes={element:h.a.instanceOf(w.a.Map).isRequired,width:h.a.number.isRequired};var S={ArcLayer:{getSourceColor:function(t){return t.colorR&&t.colorG&&t.colorB?[t.colorR,t.colorG,t.colorB,null==t.colorA?255:t.colorA]:P},getTargetColor:function(t){return t.targetColorR&&t.targetColorG&&t.targetColorB?[t.targetColorR,t.targetColorG,t.targetColorB,null==t.targetColorA?255:t.targetColorA]:P},getSourcePosition:j,getTargetPosition:C},GridLayer:{getPosition:j},HexagonLayer:{getPosition:j},LineLayer:{getSourcePosition:j,getTargetPosition:C},PointCloudLayer:{getColor:T,getPosition:function(t){return[O(t.longitude,t.lon,t.positionX,t.x),O(t.latitude,t.lat,t.positionY,t.y),O(t.latitude,t.lat,t.positionZ,t.z)]},getNormal:function(t){return[t.normalX,t.normalY,t.normalZ]}},ScatterplotLayer:{getColor:T,getPosition:j,getRadius:function(t){return O(t.radius,100)}},ScreenGridLayer:{getPosition:j,getWeight:function(t){return t.weight}},TextLayer:{getColor:T,getPixelOffset:function(t){return[O(t.pixelOffsetX,0),O(t.pixelOffsetY,0)]},getPosition:j}};var v=new Set(["gridlayer","hexagonlayer","scatterplotlayer","screengridlayer","textlayer"]),x=new Set(["arclayer","linelayer"]);function O(){for(var t=0;t<arguments.length;t+=1)if(null!=(t<0||arguments.length<=t?void 0:arguments[t]))return t<0||arguments.length<=t?void 0:arguments[t];return null}function j(t){return[O(t.longitude,t.lon),O(t.latitude,t.lat)]}function C(t){return[O(t.longitude2,t.lon2),O(t.latitude2,t.lat2)]}var P=[200,30,0,160];function T(t){return t.colorR&&t.colorG&&t.colorB?[t.colorR,t.colorG,t.colorB,null==t.colorA?255:t.colorA]:P}e.default=m},991:function(t,e){},994:function(t,e){},995:function(t,e){}}]);
//# sourceMappingURL=6.6fcc7060.chunk.js.map