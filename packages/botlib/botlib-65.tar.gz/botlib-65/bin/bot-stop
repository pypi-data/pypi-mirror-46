#!/usr/bin/python3
# OBJ - timestamped JSON objects
#
# bin/obj-stop

""" stop program for obj daemons. """

__version__ = 1

## imports

import os
import signal

## defines

path = os.path.abspath(os.path.join(os.path.expanduser("~"), ".logs", "pidfile"))

## read pidile

pid = open(path, "r").read()

try:
    pidnr = int(pid)
except ValueError:
    print("no pidnr found at %s" % path)
    os._exit(0)
try:
    os.kill(pidnr, signal.SIGKILL)
    print("killed %s" % pidnr)
except ProcessLookupError:
    pass
